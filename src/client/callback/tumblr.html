<script>
	// Split the URL query by & followed by [a-z_] and =
	var queryString = window.location.search.split(/&?[a-z_]+\=/);

	// Remove the first item, since it is just '?'
	queryString.splice(0, 1);

	// Pass the query data to the main window
	window.opener.app.controller.injectProviderData('tumblr', {
		oauth_token: queryString[0],
		oauth_verifier: queryString[1]
	});

	window.close();
</script>